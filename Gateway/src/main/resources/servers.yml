servers:
  - name: mainServer
    host: 222.237.95.115
#     192.168.0.2
    protocol: http
    docker:
      ca: /path/ca.pem
      cert: /path/cert.pem
      key: /path/client-key.pem
    count: 3

  - name: sub
    host: 0.0.0.0
    protocol: http
    docker:
      ca: /path/ca.pem
      cert: /path/cert.pem
      key: /path/client-key.pem
    count: 1

modules:
  - match-uri:
    - /calendar/
    - /alarm/
    services:
      - name: calendar
        server: mainServer
        port: 9094
    subs:
      - name: part
        server: sub
        port: 8083

  - match-uri:
    - /part/
    - /repair/
    services:
      - name: part
        server: mainServer
        port: 9093
    subs:
      - name: part
        server: sub
        port: 8082

  - match-uri:
    - /user/
    services:
      - name: user
        server: mainServer
        port: 9091
    subs:
      - name: user
        server: sub
        port: 8080

  - match-uri:
    - /yacht/
    services:
      - name: yacht
        server: mainServer
        port: 9092
    subs:
      - name: yacht
        server: sub
        port: 8081